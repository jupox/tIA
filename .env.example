# This is an example environment file.
# Copy this file to .env and fill in your actual values.
# Variables that MUST be changed by the user are explicitly noted.

# --- Project Specific Config ---
# MUST CHANGE: Replace with your actual OpenAI API key.
OPENAI_API_KEY=your_openai_api_key_here

# --- Service Connection URLs (for project services 'web' and 'worker') ---
# For services within the Docker network to connect to other services.
REDIS_URL=redis://redis:6379/0
SUPABASE_URL=http://kong:8000 # Points to the local Supabase Kong gateway for server-side calls from web/worker

# MUST CHANGE (if different from defaults generated by your local Supabase setup):
# These are common default keys for local Supabase development.
# If your 'supabase init' or local setup provides different keys, use those.
# The ANON_KEY below is also used by Supabase services.
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.MdtJgcQwGfosE-gOyhEHaNMI3wG9B_RbcXFRiWJEg7Y


# --- Supabase Common Variables (defaults for local Supabase Docker setup) ---
# MUST CHANGE: Choose a strong password for the PostgreSQL database.
POSTGRES_PASSWORD=your_strong_password_for_postgres
POSTGRES_DB=postgres
POSTGRES_HOST=db # Internal hostname for Supabase services to connect to the DB
POSTGRES_PORT=5432 # Internal port for the PostgreSQL database

# MUST CHANGE: Choose a strong, random secret for JWT signing (at least 32 characters).
JWT_SECRET=your_super_secret_jwt_secret_of_at_least_32_characters
JWT_EXPIRY=3600 # In seconds (1 hour)

# Publicly visible keys (can be the same as SUPABASE_ANON_KEY and SUPABASE_SERVICE_ROLE_KEY if using defaults)
# ANON_KEY is used by Kong and other services. If you change SUPABASE_ANON_KEY above, change this too.
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
# SERVICE_ROLE_KEY is used by Kong and other services. If you change SUPABASE_SERVICE_ROLE_KEY above, change this too.
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.MdtJgcQwGfosE-gOyhEHaNMI3wG9B_RbcXFRiWJEg7Y


# --- Supabase Kong Configuration ---
KONG_HTTP_PORT=8000 # External HTTP port for Supabase API Gateway
KONG_HTTPS_PORT=8443 # External HTTPS port for Supabase API Gateway (if SSL is configured, typically not by default in local setup)
DASHBOARD_USERNAME=supabase # For Kong's admin UI (if accessed, though Studio is primary)
DASHBOARD_PASSWORD=supabaseadmin # For Kong's admin UI


# --- Supabase Auth Configuration ---
# This is the URL your users will use to access Supabase (via Kong)
API_EXTERNAL_URL=http://localhost:8000 # Replace 'localhost:8000' with your host's external Kong URL if different
# This is the URL of your frontend application (Reflex app) for email redirects, etc.
SITE_URL=http://localhost:3000
ADDITIONAL_REDIRECT_URLS="" # Comma-separated list of additional redirect URLs

DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_ANONYMOUS_USERS=false
ENABLE_EMAIL_AUTOCONFIRM=true # Set to false if you want to test email verification flow

# SMTP settings for local email testing (e.g., using MailHog)
# For actual email sending, configure with a real SMTP provider.
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=mailhog # Example: use 'mailhog' if you add a MailHog service to docker-compose
SMTP_PORT=1025    # Default MailHog SMTP port
SMTP_USER=""      # No auth for local MailHog usually
SMTP_PASS=""      # No auth for local MailHog usually
SMTP_SENDER_NAME=Supabase

# Mailer URL paths (usually defaults are fine)
MAILER_URLPATHS_INVITE=/auth/v1/verify
MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
MAILER_URLPATHS_RECOVERY=/auth/v1/verify
MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify

ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=true # If phone signup is enabled


# --- Supabase Functions Configuration ---
FUNCTIONS_VERIFY_JWT=true


# --- Supabase Studio Configuration ---
STUDIO_DEFAULT_ORGANIZATION=Default Org
STUDIO_DEFAULT_PROJECT=My Project


# --- Supabase Realtime, Storage, Meta ---
# MUST CHANGE: Choose a strong, random secret for Realtime.
SECRET_KEY_BASE=super_secret_and_long_random_string_for_realtime
IMGPROXY_ENABLE_WEBP_DETECTION=true


# --- Supabase Analytics & Logflare ---
LOGFLARE_API_KEY= # Optional: Your Logflare API key if you use Logflare for analytics


# --- Supabase Vector & Pooler ---
DOCKER_SOCKET_LOCATION=/var/run/docker.sock # Default for Linux. May vary on other OS or if Docker runs in a VM.
# External port for Supavisor (PostgreSQL connection pooler)
POSTGRES_PORT_SUPAVISOR=54322 # Example: host port 54322 maps to Supavisor's internal 5432
POSTGRES_PORT_SUPAVISOR_INTERNAL=5432 # Internal port Supavisor listens on (do not change unless Supavisor config changes)

POOLER_PROXY_PORT_TRANSACTION=6543 # Default port for Supavisor transaction pool
POOLER_TENANT_ID=local
POOLER_DEFAULT_POOL_SIZE=15
POOLER_MAX_CLIENT_CONN=100

# MUST CHANGE: Strong random secret for Supabase Vault (encryption at rest for secrets).
VAULT_ENC_KEY=your_super_secret_random_string_for_vault

# --- Supabase Public URL (used by Studio and other services to know how they are accessed externally) ---
# Ensure this matches how you access Kong from your host machine (e.g., http://localhost:8000)
SUPABASE_PUBLIC_URL=http://localhost:8000
```
